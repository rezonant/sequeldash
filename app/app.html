<!DOCTYPE html>
<html lang="en" ng-init="state.loggedIn = false;
						 startup = true;
						 brand.name = 'sequeldash';">
<head>
	<meta charset="utf-8">
	<title ng-bind="brand.name"></title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<script>
		!function() {
			var path = (window.location+"");
			path = path.replace(/#.*$/, '');
			if (!path.match(/\/$/)) {
				path = path.replace(/\/[^\/]*$/, '');
			}
			path = path.replace(/\/*$/, '');
			document.documentElement.setAttribute("data-base-path", path);
			//document.write('<base href="'+path+'/" />');
		}();
	</script>

	<link rel="import" href="brand.html" />
	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="img/favicon.ico" />
	<link rel="stylesheet" type="text/css" href="build/css/platform.css" />
	<link rel="stylesheet" type="text/css" href="build/css/app.css" />
	
	<!-- Scripts -->
	<script src="build/js/platform.min.js"></script>
	<link rel="import" href="elements/sequeldash.html" />
	<link href='http://fonts.googleapis.com/css?family=Roboto:300,700,300italic,400italic,100italic,100,400,700italic' 
		  rel='stylesheet' type='text/css' />
</head>
<body fullbleed layout vertical unresolved>
	<div class="top-bar" horizontal layout>
		<div flex>
			<span class="breadcrumbs" style="display:inline-block;">
				<paper-menu-button icon="arrow-back" halign="left" valign="top">
				</paper-menu-button>
			</span>
			<paper-menu-button icon="star-outline" halign="left" valign="top">
				
				<div class="menu-section">
					<core-icon icon="star-outline"></core-icon> Favorites
				</div>
				<paper-item><a href="#/dbs/ns4/tables/users">ns4.users</a></paper-item>
				<paper-item><a href="#/dbs/ns4/tables/settings">ns4.users</a></paper-item>
				
				<div class="menu-section">
					<core-icon icon="trending-up"></core-icon> Recent
				</div>
				<paper-item><a href="#/dbs/ns4/tables/users">ns4.users</a></paper-item>
				<paper-item><a href="#/dbs/ns4/tables/settings">ns4.users</a></paper-item>
			</paper-menu-button>
		</div>

		<div>
			<div class="logo">
				<div ng-bind-html="brand.logoHTML"></div><br/>
				<span class="loading-indicator"
				  ><img class="logo-loading" src="img/loading.gif" 
				  /></span>
			</div>
		</div>
		<div style="text-align:right;">
			<span ng-show="startup">Loading...</span>
			<div ng-show="!startup && state.loggedIn" style="display:inline-block;min-width:5em;text-align:right;position:relative;">
				<span id="condensed-logo" style="">
					<span class="loading-indicator"><img class="corner-loading" src="img/loading.gif" /></span>
					<span ng-bind="brand.shortName"></span> | 
				</span>
				<span class="small">
					<span ng-bind="state.username"></span
					 >@<span ng-bind="state.hostname"></span>
				</span>
			</div>
			<paper-menu-button icon="more-vert" halign="right" valign="top" style="text-align:left;">
				<paper-item icon="fullscreen" class="go-fullscreen"><span></span></paper-item>
				<paper-item icon="settings" class="go-preferences">Preferences</paper-item>
				<paper-item class="navigate" data-href="/users" icon="account-child">
					Manage Users
				</paper-item>
				<paper-item class="navigate" data-href="/service" icon="report">
					Service Status
				</paper-item>
				<paper-item class="navigate" data-href="/about" icon="info">
					About / Updates
				</paper-item>
				<paper-item class="navigate" data-href="/logout" icon="remove-circle-outline">
					Logout
				</paper-item>
			</paper-menu-button>
		</div>
	</div>
	<core-scroll-header-panel condenses flex keepCondensedHeader="true" headerHeight="1200px" condensedheaderheight="60px">
        <core-toolbar layout vertical class="tall">
			<div flex layout horizontal class="top" style="width:100%;">
			</div>
			
			<!-- // -->
			
			<div layout horizontal flex end class="middle hero-cards">
			</div>
			<!-- // -->
			
			<div class="bottom">
			</div>
			
		</core-toolbar>
        <div content class="content-container">
			<ng-view></ng-view>
        </div> 
	</core-scroll-header-panel>

	<paper-dialog id="dialog-prefs" heading="Preferences" transition="paper-dialog-transition-center">
		<div layout horizontal class="flexgrid-medium">
			<div>
				<h1>Interface</h1>
				<paper-checkbox label="Hero animations"></paper-checkbox><br/>
				<paper-checkbox label="Allow inline editing"></paper-checkbox><br/>
				<paper-checkbox label="Stage inline edits"></paper-checkbox><br/>
				<br/>
			</div>
			<div>
				<h1>Application</h1>

				<paper-checkbox label="Update automatically"></paper-checkbox><br/>
				
				Updates channel:<br/>
				<paper-radio-group>
					<paper-radio-button name="updates" value="" label="Stable"></paper-radio-button><br/>
					<paper-radio-button name="updates" value="" label="Beta"></paper-radio-button><br/>
					<paper-radio-button name="updates" value="" label="Canary"></paper-radio-button><br/>
				</paper-radio-group>
				
				<br/>
				Connector: 
				<paper-dropdown-menu>
					<paper-item label="MySQL"></paper-item>
					<paper-item label="PostgreSQL"></paper-item>
					<paper-item label="Microsoft SQL Server"></paper-item>
					<paper-item label="Oracle"></paper-item>
					<paper-item label="SQLite"></paper-item>
				</paper-dropdown-menu>
				
				<paper-input floatingLabel label="Server Address"></paper-input>
				
			</div>
			<div>
				<h1>Persistence</h1>

				<core-tooltip label="Turns off all features which require persistence on the database server.
							  Setting persists on the database server.">
					<paper-checkbox label="Disable all persistent features"></paper-checkbox>
				</core-tooltip><br/>
				<paper-checkbox label="Persist recently used tables"></paper-checkbox><br/>
				<paper-checkbox label="Persist favorites"></paper-checkbox>
			</div>
		</div>
		
		<br/>
		
		
		<br/>
		<br/>
		
	</paper-dialog>
	
	<paper-dialog id="dialog-error" heading="Uh oh" transition="paper-dialog-transition-center">
		<p>It looks like an error occurred.</p>
		
		<pre class="details"></pre>
	</paper-dialog>
	
	<script>
	  // custom transformation: scale header's title
	  var titleStyle = document.querySelector('.logo').style;
	  addEventListener('core-header-transform', function(e) {
		var d = e.detail;
		var m = d.height - d.condensedHeight;

		var scale = Math.max(0.40, (m - d.y) / (m / 0.25)  + 0.40);
		titleStyle.transform = titleStyle.webkitTransform =
		  'scale(' + scale + ') translateZ(0)';

		$('.logo-loading').css('transform', 'scale('+(scale*2)+') translateZ(0)')
			  .css('opacity', (m - d.y) / m);
		titleStyle.opacity = (m - d.y) / m;


		m = 60;
		var opac = (m - d.y + 30) / (m);
		opac = Math.max(0, opac);

		$('core-toolbar .middle').css('opacity', opac);
//		  $('#username').css('opacity', opac);
		$('#condensed-logo').css('opacity', 1-opac);
	  });

	</script>
	
	<!-- // -->
	<script type="text/javascript" src="build/js/app.js"></script>
</body>
</html>

